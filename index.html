<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–≠–∫–æ–ª–æ–≥–∏—è –≥–æ—Ä–æ–¥–∞</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–µ–Ω—é */
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    
    /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ */
    .options-column {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin: 10px 0;
    }
    
    .options-column label {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 5px;
    }
    
    .test-actions {
      margin: 20px 0;
      text-align: center;
    }
    
    .btn-primary {
      background: #2e7d32;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    
    .btn-primary:hover {
      background: #1b5e20;
    }
    
    #resultBox {
      margin-top: 20px;
      padding: 15px;
      border: 2px dashed #4CAF50;
      border-radius: 10px;
      background: #f9f9f9;
    }
    
    .recommendation {
      background: #e8f5e8;
      padding: 15px;
      margin: 10px 0;
      border-left: 4px solid #2e7d32;
      border-radius: 4px;
    }
    
    .btn-action {
      background: #388e3c;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
    <nav class="sidebar">
      <h2>üåø –ú–µ–Ω—é</h2>
      <ul>
        <li><a href="#" data-tab="main">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="#" data-tab="about">‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
        <li><a href="#" data-tab="contact">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        <li><a href="#" data-tab="test">üìù –≠–∫–æ-—Ç–µ—Å—Ç</a></li>
        <li><a href="#" data-tab="ecoMap">üó∫Ô∏è –≠–∫–æ-–∫–∞—Ä—Ç—ã</a></li>
        <li><a href="#" data-tab="ecoCity">üèôÔ∏è –≠–∫–æ-–≥–æ—Ä–æ–¥</a></li>
      </ul>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="content">
      <!-- –ì–ª–∞–≤–Ω–∞—è -->
      <section id="main" class="tab-content active">
        <h1>üè† –ì–ª–∞–≤–Ω–∞—è</h1>
        <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç ¬´–≠–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –ø—É—Ç–∏ —Ä–∞–∑–≤–∏—Ç–∏—è¬ª üå±</p>
      </section>

      <!-- –û –ø—Ä–æ–µ–∫—Ç–µ -->
      <section id="about" class="tab-content">
        <h1>‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ</h1>
        <p>–ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ —Ü–µ–ª—è—Ö –∏ –∏–¥–µ—è—Ö –ø—Ä–æ–µ–∫—Ç–∞.</p>
      </section>

      <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
      <section id="contact" class="tab-content">
        <h1>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
        <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏.</p>
      </section>

      <!-- –¢–µ—Å—Ç -->
      <section id="test" class="tab-content">
        <h2>üìù –¢–µ—Å—Ç: –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥</h2>
        <p id="testIntro">
          –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥ ‚Äî —ç—Ç–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—Ä–æ–¥–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –æ–±—â–µ—Å—Ç–≤–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –∏ —Å–∫–æ–ª—å–∫–æ –∑–µ–º–ª–∏ –∏ –≤–æ–¥—ã –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –≤–æ—Å–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã –∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç—Ö–æ–¥—ã.
        </p>

        <form id="ecoTestForm">
          <!-- –í–æ–ø—Ä–æ—Å 1 -->
          <div class="question" data-question="1">
            <p>–ü–ª–æ—â–∞–¥—å –∂–∏–ª—å—è</p>
            <div class="options-column">
              <label><input type="checkbox" name="q1" value="7"> –Ω–µ–±–æ–ª—å—à–∞—è –ø–ª–æ—â–∞–¥—å –∂–∏–ª—å—è</label>
              <label><input type="checkbox" name="q1" value="12"> –ø—Ä–æ—Å—Ç–æ—Ä–Ω–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞</label>
              <label><input type="checkbox" name="q1" value="15"> —á–∞—Å—Ç–Ω—ã–π –¥–æ–º –¥–æ 1 —ç—Ç–∞–∂–∞</label>
              <label><input type="checkbox" name="q1" value="23"> —á–∞—Å—Ç–Ω—ã–π –¥–æ–º 2 —ç—Ç–∞–∂–∞ –∏ –±–æ–ª–µ–µ</label>
            </div>
          </div>

          <!-- –í–æ–ø—Ä–æ—Å 2 -->
          <div class="question" data-question="2">
            <p>–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏</p>
            <div class="options-column">
              <label><input type="checkbox" name="q2" value="120"> –æ—Ç–æ–ø–ª–µ–Ω–∏–µ –Ω–µ—Ñ—Ç—å—é, –≥–∞–∑–æ–º –∏–ª–∏ —É–≥–ª–µ–º</label>
              <label><input type="checkbox" name="q2" value="-10"> —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ –ø–æ –ø–æ–≥–æ–¥–µ</label>
              <label><input type="checkbox" name="q2" value="-5"> –¥–µ—Ä–∂–∏—Ç–µ –¥–æ–º –ø—Ä–æ—Ö–ª–∞–¥–Ω—ã–º, –æ–¥–µ–≤–∞–µ—Ç–µ—Å—å —Ç–µ–ø–ª–µ–µ</label>
              <label><input type="checkbox" name="q2" value="2"> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º—É—é —ç–Ω–µ—Ä–≥–∏—é</label>
              <label><input type="checkbox" name="q2" value="-10"> –≤—ã–∫–ª—é—á–∞–µ—Ç–µ —Å–≤–µ—Ç, –≤—ã—Ö–æ–¥—è –∏–∑ –∫–æ–º–Ω–∞—Ç—ã</label>
              <label><input type="checkbox" name="q2" value="-10"> –≤—ã–∫–ª—é—á–∞–µ—Ç–µ –ø—Ä–∏–±–æ—Ä—ã –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</label>
            </div>
          </div>

          <!-- –í–æ–ø—Ä–æ—Å 3 -->
          <div class="question" data-question="3">
            <p>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</p>
            <div class="options-column">
              <label><input type="checkbox" name="q3" value="3"> –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç / –ø–µ—à–∫–æ–º / –≤–µ–ª–æ—Å–∏–ø–µ–¥</label>
              <label><input type="checkbox" name="q3" value="40"> –ª–∏—á–Ω—ã–π –ª–µ–≥–∫–æ–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å</label>
              <label><input type="checkbox" name="q3" value="75"> –±–æ–ª—å—à–æ–π –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫</label>
              <label><input type="checkbox" name="q3" value="85"> –ø–µ—Ä–µ–ª–µ—Ç—ã —Å–∞–º–æ–ª–µ—Ç–æ–º</label>
              <label><input type="checkbox" name="q3" value="15"> –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ –ø–æ–µ–∑–¥–µ</label>
            </div>
          </div>

          <!-- –í–æ–ø—Ä–æ—Å 4 -->
          <div class="question" data-question="4">
            <p>–ü–∏—Ç–∞–Ω–∏–µ</p>
            <div class="options-column">
              <label><input type="checkbox" name="q4" value="2"> –ø—Ä–æ–¥—É–∫—Ç—ã –º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</label>
              <label><input type="checkbox" name="q4" value="14"> –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã</label>
              <label><input type="checkbox" name="q4" value="5"> –≥–æ—Ç–æ–≤–∞—è –µ–¥–∞ –∏–∑ –∫–∞—Ñ–µ –∏–ª–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤</label>
              <label><input type="checkbox" name="q4" value="50"> –º—è—Å–æ 2-3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</label>
              <label><input type="checkbox" name="q4" value="85"> –º—è—Å–æ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ</label>
              <label><input type="checkbox" name="q4" value="30"> –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∞—è –¥–∏–µ—Ç–∞</label>
            </div>
          </div>

          <!-- –í–æ–ø—Ä–æ—Å 5 -->
          <div class="question" data-question="5">
            <p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ–¥—ã</p>
            <div class="options-column">
              <label><input type="checkbox" name="q5" value="2"> –≤–∞–Ω–Ω–∞ 1-2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</label>
              <label><input type="checkbox" name="q5" value="14"> –≤–∞–Ω–Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ</label>
              <label><input type="checkbox" name="q5" value="4"> –¥—É—à –µ–∂–µ–¥–Ω–µ–≤–Ω–æ</label>
              <label><input type="checkbox" name="q5" value="4"> –ø–æ–ª–∏–≤–∫–∞ —É—á–∞—Å—Ç–∫–∞ / –º–æ–π–∫–∞ –º–∞—à–∏–Ω—ã –∏–∑ —à–ª–∞–Ω–≥–∞</label>
            </div>
          </div>

          <!-- –í–æ–ø—Ä–æ—Å 6 -->
          <div class="question" data-question="6">
            <p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É–º–∞–≥–∏</p>
            <div class="options-column">
              <label><input type="checkbox" name="q6" value="2"> –ø–æ–∫—É–ø–∞–µ—Ç–µ –±—É–º–∞–∂–Ω—ã–µ –∫–Ω–∏–≥–∏</label>
              <label><input type="checkbox" name="q6" value="1"> —á–∏—Ç–∞–µ—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏</label>
              <label><input type="checkbox" name="q6" value="-1"> –±–µ—Ä–µ—Ç–µ –∫–Ω–∏–≥–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ</label>
              <label><input type="checkbox" name="q6" value="1"> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</label>
            </div>
          </div>

          <!-- –í–æ–ø—Ä–æ—Å 7 -->
          <div class="question" data-question="7">
            <p>–ë—ã—Ç–æ–≤—ã–µ –æ—Ç—Ö–æ–¥—ã</p>
            <div class="options-column">
              <label><input type="checkbox" name="q7" value="-10"> —Å–¥–∞–µ—Ç–µ –±–∞–Ω–∫–∏ –∏ –±—É—Ç—ã–ª–∫–∏</label>
              <label><input type="checkbox" name="q7" value="-10"> —Å–¥–∞–µ—Ç–µ –º–∞–∫—É–ª–∞—Ç—É—Ä—É</label>
              <label><input type="checkbox" name="q7" value="-15"> —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –º—É—Å–æ—Ä</label>
              <label><input type="checkbox" name="q7" value="-10"> –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —É–ø–∞–∫–æ–≤–∫—É</label>
            </div>
          </div>

          <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ -->
          <div class="test-actions">
            <button type="button" id="finishTest" class="btn-primary">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç</button>
          </div>

          <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
          <div id="resultBox">
            <h3>–í–∞—à —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥:</h3>
            <p id="result">0 –±–∞–ª–ª–æ–≤</p>
            <p id="resultText"></p>
            <div id="recommendations"></div>
          </div>
        </form>
      </section>

      <!-- –≠–∫–æ –∫–∞—Ä—Ç—ã -->
      <section id="ecoMap" class="tab-content">
        <h2>üó∫Ô∏è –≠–∫–æ –∫–∞—Ä—Ç—ã</h2>
        <div id="map" style="height:400px;"></div>
      </section>

      <!-- –≠–∫–æ –≥–æ—Ä–æ–¥ -->
<section id="ecoCity" class="tab-content">
  <h2>üèôÔ∏è –≠–∫–æ –≥–æ—Ä–æ–¥</h2>
  
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª–∞ -->
  <div class="ecocity-nav">
    <button class="tab-btn active" onclick="showEcoCityTab('articles')">üìö –°—Ç–∞—Ç—å–∏</button>
    <button class="tab-btn" onclick="showEcoCityTab('forum')">üí¨ –§–æ—Ä—É–º</button>
    <button class="tab-btn" onclick="showEcoCityTab('gallery')">üñºÔ∏è –ì–∞–ª–ª–µ—Ä–µ—è</button>
  </div>

  <!-- –°—Ç–∞—Ç—å–∏ -->
  <div id="ecocity-articles" class="ecocity-tab active">
    <h3>–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –æ–± —ç–∫–æ–ª–æ–≥–∏–∏</h3>
    <div class="articles-grid">
      <article class="article-card">
        <img src="https://via.placeholder.com/300x200/4CAF50/white?text=–≠–∫–æ+—Å–æ–≤–µ—Ç—ã" alt="–≠–∫–æ —Å–æ–≤–µ—Ç—ã">
        <div class="article-content">
          <h4>10 –ø—Ä–æ—Å—Ç—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —É–º–µ–Ω—å—à–∏—Ç—å —ç–∫–æ—Å–ª–µ–¥</h4>
          <p>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏...</p>
          <button onclick="openArticle(1)">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</button>
        </div>
      </article>
      
      <article class="article-card">
        <img src="https://via.placeholder.com/300x200/2196F3/white?text=–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞" alt="–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞">
        <div class="article-content">
          <h4>–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º—É—Å–æ—Ä –≤ –ê–ª–º–∞—Ç—ã</h4>
          <p>–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–¥–µ–ª—å–Ω–æ–º—É —Å–±–æ—Ä—É –æ—Ç—Ö–æ–¥–æ–≤...</p>
          <button onclick="openArticle(2)">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</button>
        </div>
      </article>
    </div>
  </div>

  <!-- –§–æ—Ä—É–º -->
  <div id="ecocity-forum" class="ecocity-tab">
    <h3>üí¨ –û–±—Å—É–∂–¥–µ–Ω–∏—è</h3>
    
    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è -->
    <div class="comment-form">
      <h4>–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h4>
      <form id="forumForm">
        <input type="text" id="authorName" placeholder="–í–∞—à–µ –∏–º—è" required>
        <textarea id="commentText" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." required></textarea>
        
        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
        <div class="image-upload">
          <label>–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ/GIF:</label>
          <input type="file" id="imageUpload" accept="image/*, .gif">
          <div id="imagePreview"></div>
        </div>
        
        <button type="submit">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
      </form>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ -->
    <div class="comments-list" id="commentsList">
      <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
    </div>
  </div>

  <!-- –ì–∞–ª–ª–µ—Ä–µ—è -->
  <div id="ecocity-gallery" class="ecocity-tab">
    <h3>üñºÔ∏è –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã</h3>
    
    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –≥–∞–ª–ª–µ—Ä–µ—é -->
    <div class="gallery-upload">
      <h4>–î–æ–±–∞–≤–∏—Ç—å –≤ –≥–∞–ª–ª–µ—Ä–µ—é</h4>
      <form id="galleryForm">
        <input type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" required>
        <textarea placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞..."></textarea>
        <input type="file" accept="image/*, .gif" multiple>
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
      </form>
    </div>

    <div class="gallery-grid">
      <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≥–∞–ª–ª–µ—Ä–µ–∏ -->
    </div>
  </div>
</section>
     
    </main>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ë–û–ö–û–í–û–ì–û –ú–ï–ù–Æ ===
    function openTab(tabId) {
      console.log('Opening tab:', tabId);
      // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.style.display = "none";
      });
      
      // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
      const activeTab = document.getElementById(tabId);
      if (activeTab) {
        activeTab.style.display = "block";
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω—é
    function initMenu() {
      console.log('Initializing menu...');
      const menuLinks = document.querySelectorAll('.sidebar a[data-tab]');
      console.log('Found menu links:', menuLinks.length);
      
      menuLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const tabId = this.getAttribute('data-tab');
          console.log('Menu click:', tabId);
          openTab(tabId);
        });
      });
      
      // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
      openTab('main');
    }

    // === –§–£–ù–ö–¶–ò–ò –î–õ–Ø –¢–ï–°–¢–ê ===
    const recommendationsConfig = {
      'no_sorting': {
        triggers: ['q7_-10', 'q7_-15'],
        message: '‚ôªÔ∏è –í–∞–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º—É—Å–æ—Ä! –ù–∞—á–Ω–∏—Ç–µ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–ª–∞—Å—Ç–∏–∫–∞, –±—É–º–∞–≥–∏ –∏ —Å—Ç–µ–∫–ª–∞.',
        action: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—É–Ω–∫—Ç—ã –ø—Ä–∏–µ–º–∞ –Ω–∞ –∫–∞—Ä—Ç–µ'
      },
      'no_recycling': {
        triggers: ['q7_-10'],
        message: 'üì¶ –°–¥–∞—á–∞ –±–∞–Ω–æ–∫ –∏ –±—É—Ç—ã–ª–æ–∫ –ø–æ–º–æ–≥–∞–µ—Ç –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã.',
        action: '–£–∑–Ω–∞—Ç—å –æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ'
      },
      'high_energy': {
        triggers: ['q2_120'],
        message: 'üí° –û—Ç–æ–ø–ª–µ–Ω–∏–µ —É–≥–ª–µ–º/–≥–∞–∑–æ–º —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —É–≥–ª–µ—Ä–æ–¥–Ω—ã–π —Å–ª–µ–¥.',
        action: '–°–æ–≤–µ—Ç—ã –ø–æ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏—é'
      },
      'meat_daily': {
        triggers: ['q4_85'],
        message: 'üå± –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –º—è—Å–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥.',
        action: '–†–µ—Ü–µ–ø—Ç—ã –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∏—Ö –±–ª—é–¥'
      }
    };

    function initTest() {
      console.log('Initializing test...');
      const finishButton = document.getElementById('finishTest');
      if (finishButton) {
        finishButton.addEventListener('click', finishTest);
        console.log('Finish button found and listener added');
      } else {
        console.log('Finish button NOT found');
      }
    }

    function finishTest() {
      console.log('Finishing test...');
      let totalScore = 0;
      
      // –°—á–∏—Ç–∞–µ–º –æ–±—â–∏–π –±–∞–ª–ª
      document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
        totalScore += parseInt(checkbox.value);
      });
      
      const finalScore = totalScore + 100;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      document.getElementById("result").textContent = `${finalScore} –±–∞–ª–ª–æ–≤`;
      document.getElementById("resultBox").style.display = "block";
      
      // –í–∞—à –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      let resultMessage = "";
      if (finalScore <= 190) {
        resultMessage = "üå± –í–∞—à —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥ –Ω–∏–∑–∫–∏–π–ï—Å–ª–∏ –±—ã –≤—Å –ª—é–¥–∏ –∂–∏–ª–∏ —Ç–∞–∫, –∫–∞–∫ –≤—ã, –Ω–∞–º —Ö–≤–∞—Ç–∏–ª–æ –±—ã –æ–¥–Ω–æ–π –ø–ª–∞–Ω–µ—Ç—ã";
      } else if (finalScore <= 300) {
        resultMessage = "üåç –í–∞—à —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥ —Å—Ä–µ–¥–Ω–∏–π. –ï—Å–ª–∏ –±—ã –≤—Å–µ –ª—é–¥–∏ –∂–∏–ª–∏ —Ç–∞–∫–∂–µ –∫–∞–∫ –≤—ã, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å –±—ã –±–æ–ª–µ–µ –æ–¥–Ω–æ–π –ø–ª–∞–Ω–µ—Ç—ã";
      } else {
        resultMessage = "üî• –í–∞—à —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–ª–µ–¥ –≤—ã—Å–æ–∫–∏–π! –ï—Å–ª–∏ –±—ã –≤—Å–µ –ª—é–¥–∏ –∂–∏–ª–∏ —Ç–∞–∫, –∫–∞–∫ –≤—ã, –Ω–∞–º –±—ã –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å 2 –∏ –±–æ–ª–µ–µ –ø–ª–∞–Ω–µ—Ç –¥–ª—è –∂–∏–∑–Ω–∏";
      }
      
      document.getElementById("resultText").textContent = resultMessage;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
      showRecommendations();
    }

    function showRecommendations() {
      const recommendationsContainer = document.getElementById("recommendations");
      recommendationsContainer.innerHTML = '';
      
      Object.keys(recommendationsConfig).forEach(key => {
        const config = recommendationsConfig[key];
        
        config.triggers.forEach(trigger => {
          const [question, value] = trigger.split('_');
          const optionId = `input[name="${question}"][value="${value}"]`;
          const option = document.querySelector(optionId);
          
          if (option && !option.checked) {
            const recElement = document.createElement('div');
            recElement.className = 'recommendation';
            recElement.innerHTML = `
              <p>${config.message}</p>
              <button onclick="handleRecommendationAction('${key}')" class="btn-action">${config.action}</button>
            `;
            recommendationsContainer.appendChild(recElement);
          }
        });
      });
    }

    function handleRecommendationAction(actionType) {
      switch(actionType) {
        case 'no_sorting':
        case 'no_recycling':
          openTab('ecoMap');
          break;
        default:
          alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
      }
    }

    // === –û–ë–©–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, initializing...');
      initMenu();
      initTest();
    });
  </script>
</body>
</html>
